var TemplateEngine=function(e,t){var n=/<%([^%>]+)?%>/g,i=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,a="var r=[];\n",r=0,o;var c=function(e,t){t?a+=e.match(i)?e+"\n":"r.push("+e+");\n":a+=e!=""?'r.push("'+e.replace(/"/g,'\\"')+'");\n':"";return c};while(o=n.exec(e)){c(e.slice(r,o.index))(o[1],true);r=o.index+o[0].length}c(e.substr(r,e.length-r));a+='return r.join("");';return new Function(a.replace(/[\r\t\n]/g,"")).apply(t)};var mountainData=mountainData||{};$(function(){var e=document.body.dataset.mountain,t=document.querySelector(".nav-left"),n=document.querySelector(".nav-right"),i=Object.keys(mountainData),a=i.length,r=a-1;var o,c;t.addEventListener("click",s);n.addEventListener("click",s);window.addEventListener("resize",p);function l(){d(e);p()}function s(e){e.preventDefault();o=i.indexOf($("body").attr("data-mountain"));if(e.currentTarget.classList.contains("nav-right")){c=o===r?0:o+1}else{c=o===0?r:o-1}u(c);d(i[c])}function u(e){document.body.dataset.mountain=i[e]}function d(e){var t=mountainData[e],n=document.querySelector(".title"),i=document.querySelector(".data"),a='<h2 class="data-title"><%this.title%></h2>'+'<p class="data-elevation">elevation <b><%this.elevation%></b></p>'+'<p class="data-prominence">prominence <%this.prominence%></p>'+'<p class="data-description"><%this.description%></p>';n.innerHTML=TemplateEngine("<%this.title%>",t);i.innerHTML=TemplateEngine(a,t);i.classList.remove("transparent")}function p(){var e=document.body.offsetWidth,t=document.body.offsetHeight,n=document.querySelector(".container").offsetHeight-50,i=document.querySelector(".mountains"),a=e,r=Math.round(.6*a),o=a/r;if(r>n){a=n*o;r=n}i.style.width=a+"px";i.style.height=r+"px"}l()});var mountainData={bugaboo:{title:"Bugaboo Spire",elevation:"10,512 ft",prominence:"1,437 ft",description:"North Ridge, a top 50 climb"},tetons:{title:"The Grand Teton",elevation:"13,776 ft",prominence:"6,529 ft",description:"Exum Ridge route"},"blanca-traverse":{title:"Little Bear - Blanca Traverse",elevation:"14,344 ft",prominence:"5,325 ft",description:"Ridge route with 6000+ feet of gain"},"glacier-peak":{title:"Glacier Peak",elevation:"10,541 ft",prominence:"7,497 ft",description:"Glissade all day"}};